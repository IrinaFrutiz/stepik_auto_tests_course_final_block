{"name": "Check guest_can_add_product_to_basket_new_year", "status": "broken", "statusDetails": {"message": "KeyError: 'en-US'", "trace": "browser = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"11c538ffbce7b46c2c946a1df05fe723\")>\nlink = 'https://selenium1py.pythonanywhere.com/catalogue/coders-at-work_207/?promo=newYear2019'\n\n    @allure.title(\"Check guest_can_add_product_to_basket_new_year\")\n    @pytest.mark.parametrize(\"link\", [\n        \"https://selenium1py.pythonanywhere.com/catalogue/coders-at-work_207/?promo=newYear2019\",\n        \"https://selenium1py.pythonanywhere.com/catalogue/the-shellcoders-handbook_209/?promo=newYear\"])\n    def test_guest_can_add_product_to_basket_new_year(browser, link):\n        page = ProductPage(browser, link)\n        page.open()\n        time.sleep(10)\n        page.should_be_product_page()\n        page.should_click_to_button_add_to_basket()\n        page.solve_quiz_and_get_code()\n>       page.check_message_book_added_to_basket()\n\ntest_product_page.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <pages.product_page.ProductPage object at 0x0000019ABD00CD90>\n\n    @allure.step('check a message that the book added to the basket')\n    def check_message_book_added_to_basket(self):\n        languages = {\n            \"ar\": \" has been added to your basket.\",\n            \"ca\": \" s'ha afegit a la seva cistella.\",\n            \"cs\": \" byla přidána do vašeho košíku.\",\n            \"da\": \" er lagt i din indkøbskurv.\",\n            \"de\": \" wurde Ihrem Warenkorb hinzugefügt.\",\n            \"en-gb\": \" has been added to your basket.\",\n            \"en\": \" has been added to your basket.\",\n            \"el\": \" has been added to your basket.\",\n            \"es\": \" ha sido añadido al carrito.\",\n            \"fi\": \" lisätty koriisi.\",\n            \"fr\": \" a été ajouté à votre panier.\",\n            \"it\": \" byl přidán do vašeho košíku.\",\n            \"ko\": \"이(가) 장바구니에 추가되었습니다.\",\n            \"nl\": \" is toegevoegd aan je winkelmand.\",\n            \"pl\": \" został dodany do koszyka.\",\n            \"pt\": \" foi adicionado ao seu carrinho.\",\n            \"pt-br\": \" foi adicionado à sua cesta.\",\n            \"ro\": \" a fost adaugat in cos.\",\n            \"ru\": \" был добавлен в вашу корзину.\",\n            \"sk\": \" bol pridaný do košíka.\",\n            \"uk\": \" було додано до Вашого кошику.\",\n            \"zh-cn\": \" has been added to your basket.\",\n        }\n        language = self.browser.execute_script(\n            \"return window.navigator.userLanguage || window.navigator.language\")\n        messages = self.element_is_visible(self.locators.PRODUCT_ADDED_TO_BASKET)\n        book_name = self.browser.find_element(*ProductPageLocators.PRODUCT_NAME)\n>       expected_message = f\"{book_name.text}{languages[language]}\"\nE       KeyError: 'en-US'\n\npages\\product_page.py:73: KeyError"}, "steps": [{"name": "open the URL", "status": "passed", "start": 1700233465407, "stop": 1700233467173}, {"name": "check a product page", "status": "passed", "steps": [{"name": "check promo in an url", "status": "passed", "start": 1700233477173, "stop": 1700233477182}, {"name": "check book names matching", "status": "passed", "start": 1700233477182, "stop": 1700233477243}, {"name": "check no message that the book added to the basket", "status": "passed", "start": 1700233477243, "stop": 1700233481396}], "start": 1700233477173, "stop": 1700233481396}, {"name": "add a book to a basket", "status": "passed", "start": 1700233481396, "stop": 1700233481482}, {"name": "the quiz", "status": "passed", "steps": [{"name": "solving the quiz", "status": "passed", "start": 1700233481485, "stop": 1700233481488}], "start": 1700233481482, "stop": 1700233481494}, {"name": "check a message that the book added to the basket", "status": "broken", "statusDetails": {"message": "KeyError: 'en-US'\n", "trace": "  File \"D:\\Ira\\Python\\stepik\\stepik_auto_tests_course_final_block\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"D:\\Ira\\Python\\stepik\\stepik_auto_tests_course_final_block\\pages\\product_page.py\", line 73, in check_message_book_added_to_basket\n    expected_message = f\"{book_name.text}{languages[language]}\"\n                                          ~~~~~~~~~^^^^^^^^^^\n"}, "start": 1700233481495, "stop": 1700233482572}], "attachments": [{"name": "stdout", "source": "584b5e50-b979-47c4-9ee7-ceae1b0072f8-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "link", "value": "'https://selenium1py.pythonanywhere.com/catalogue/coders-at-work_207/?promo=newYear2019'"}], "start": 1700233465407, "stop": 1700233482573, "uuid": "ead2a65c-b6c6-4c56-a819-bd85b2ebf267", "historyId": "da4ddc96a6c390879459d9f2791b6b58", "testCaseId": "47541aa712454c7f4802daada831ac20", "fullName": "test_product_page#test_guest_can_add_product_to_basket_new_year", "labels": [{"name": "suite", "value": "test_product_page"}, {"name": "host", "value": "DESKTOP-SA07AEL"}, {"name": "thread", "value": "6672-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_product_page"}]}